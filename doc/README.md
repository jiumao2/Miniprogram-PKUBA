# 赛程调整逻辑
## STATE
- 0:拒绝, 1:等待对手确认, 2:通过, 3:抽签申请中, 4:审核中, 5:等待同组其他领队确认
## TYPE
- 1:普通调整, 2:抽签, 3:跨周调整

## 普通调整
- 领队提出 state = 1 -> 对方确认 state = 2 -> 赛程完成调整 state = 2
- 领队提出 state = 1 -> 对方拒绝 state = 0 -> 赛程调整失败 state = 0
- 领队提出 state = 1 -> 管理员拒绝 state = 0 -> 赛程调整失败 state = 0 
- 领队提出 state = 1 -> 对方未确认 state = 2 -> 过了调整期限 state = 2 -> 赛程调整失败 state = 0 

## 跨周调整
- 领队提出 state = 1 -> 对方确认 state = 4 -> 管理员发出同组确认申请 state = 5 -> 其他领队确认 state = 4 -> 管理员最终确认 state = 2 -> 赛程完成调整 state = 2
- 领队提出 state = 1 -> 对方确认 state = 4 -> 管理员发出同组确认申请 state = 5 -> 某领队拒绝 state = 0 -> 赛程调整失败 state = 0
- 领队提出 state = 1 -> 对方确认 state = 4 -> 管理员同意 state = 2 -> 赛程完成调整 state = 2
- 领队提出 state = 1 -> 对方确认 state = 4 -> 管理员拒绝 state = 0 -> 赛程调整失败 state = 0
- 领队提出 state = 1 -> 对方拒绝 state = 0 -> 赛程调整失败 state = 0

## 抽签
- 邮件进行

## 管理员操作
- 通过：直接完成某赛程调整，赛程自动更新
- 拒绝：直接拒绝某申请，赛程不变
- 发出同组确认申请：跨周调整中领队提出并且得到对方领队同意后显示，发出同组其他领队确认申请
- 确认：确认对已经通过或拒绝的赛程调整，对赛程无影响





